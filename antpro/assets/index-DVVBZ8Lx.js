import{f as v,w as H,j as J,c as j,$ as i,a2 as t,a7 as _,ae as z,a8 as s,k as n,E as b,ab as f,u as B,F as C,ai as F,ad as K,a0 as u,d as W,A as L,x as P,I as N}from"./vue-DVTR9RGJ.js";import{_ as Q}from"./index-3jYClFkN.js";import{a7 as Y,I as X,a8 as M,M as Z,c as ee,a9 as le,a0 as ae,D as te,X as se,aa as oe,ab as ne,B as T}from"./antd-DvZ7CuFl.js";const ce={key:0,class:"num"},ue={class:"text-sm text-#666 font-500 leading-7"},ie={class:"text-xs text-#888"},de={key:0,class:"num"},re={__name:"checkboxFilter",props:{options:{type:Array,default:()=>[{id:1,value:"高"},{id:2,value:"中"},{id:3,value:"低"},{id:4,value:"未知"}]},label:{type:String,default:"意向度"},type:{type:String,default:"radio"},checkedValues:{type:Array==null?void 0:Array.String}},emits:["update:checkedValues","change","radioChange"],setup(m,{expose:V,emit:O}){const d=v("");H(d,k=>{w(k)}),V({resetSearch:()=>{d.value=""}});const w=Y(()=>{console.log("执行搜索:",d.value)},500);J(()=>{w.cancel()});const y=m,x=O,p=v(!1),o=j({get(){return y.checkedValues},set(k){x("update:checkedValues",k)}}),R=()=>{x("change",o.value)},q=k=>{x("radioChange",k),o.value=k,p.value=!1};return(k,h)=>{const A=ae,I=le,S=ee,$=Z,c=X,e=te,r=se;return t(),i(C,null,[m.type=="checkbox"?(t(),_(e,{key:0,trigger:["click"],open:p.value,"onUpdate:open":h[1]||(h[1]=a=>p.value=a),placement:"bottomLeft",arrow:!0},{overlay:s(()=>[n($,null,{default:s(()=>[n(S,{class:"check-item"},{default:s(()=>[n(I,{class:"vertical-checkbox-group",value:o.value,"onUpdate:value":h[0]||(h[0]=a=>o.value=a)},{default:s(()=>[(t(!0),i(C,null,F(m.options,a=>(t(),_(A,{key:a.id,value:a.id,onChange:R},{default:s(()=>[b(f(a.value),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value"])]),_:1})]),_:1})]),default:s(()=>[n(c,{class:"h-28px flex filter-btn mr-2"},{default:s(()=>[b(f(m.label)+" ",1),o.value.length>0?(t(),i("div",ce,f(o.value.length),1)):(t(),_(B(M),{key:1,style:{fontSize:"10px"}}))]),_:1})]),_:1},8,["open"])):z("",!0),m.type=="radio"?(t(),_(e,{key:1,trigger:["click"],open:p.value,"onUpdate:open":h[3]||(h[3]=a=>p.value=a),placement:"bottomLeft",arrow:!0},{overlay:s(()=>[n($,null,{default:s(()=>[n(S,{class:"top-item"},{default:s(()=>[n(r,{class:"mt-1 mb-2 w-27",value:d.value,"onUpdate:value":h[2]||(h[2]=a=>d.value=a),autofocus:"",placeholder:"输入创建人"},null,8,["value"])]),_:1}),(t(!0),i(C,null,F(m.options,a=>(t(),_(S,{class:K(o.value==a.id?"menu-item active":"menu-item"),key:a.id,value:a.id,onClick:l=>q(a.id)},{default:s(()=>[u("div",ue,f(a.value),1),u("div",ie,f(a.phone),1)]),_:2},1032,["class","value","onClick"]))),128))]),_:1})]),default:s(()=>[n(c,{class:"h-28px flex filter-btn mr-2"},{default:s(()=>[b(f(m.label)+" ",1),o.value?(t(),i("div",de,"1")):(t(),_(B(M),{key:1,style:{fontSize:"10px"}}))]),_:1})]),_:1},8,["open"])):z("",!0)],64)}}},D=Q(re,[["__scopeId","data-v-fba8bf41"]]),ve={class:"home"},pe={class:"filter-section"},fe={class:"quick-filters"},he={class:"filter-section"},ke={class:"standard-filters"},_e={key:0,class:"selected-conditions"},me={class:"condition-tags"},ye={class:"tag-content"},ge={class:"condition-label"},be={class:"condition-values"},xe={key:0,class:"value-item"},Ce={key:1,class:"separator"},Ve=W({__name:"index",setup(m){const V=v(null),O=v([{id:1,value:"高"},{id:2,value:"中"},{id:3,value:"低"},{id:4,value:"未知"}]),d=v([]),E=v([{id:1,value:"待跟进"},{id:2,value:"跟进中"},{id:3,value:"未接听"},{id:4,value:"已邀约"}]),g=v([]),w=v([{id:1,value:"男"},{id:2,value:"女"},{id:3,value:"未知"}]),y=v([]),x=v([{id:1,value:"陈瑞生",phone:"17601241636"},{id:2,value:"张晨",phone:"17662072520"},{id:3,value:"陈旭",phone:"15864646629"}]),p=v(null),o=v([{id:1,name:"今日待跟进",count:1,selected:!1},{id:2,name:"本周新增",count:0,selected:!1},{id:3,name:"逾期未回访",count:0,selected:!1}]),R=c=>{var e;o.value.forEach(r=>{r.selected=r.id===c.id?!r.selected:!1}),console.log("当前快捷筛选:",(e=o.value.find(r=>r.selected))==null?void 0:e.name)},q=()=>{P(()=>{console.log("意向度:",N(d.value))})},k=()=>{P(()=>{console.log("跟进状态:",N(g.value))})},h=()=>{P(()=>{console.log("性别:",N(y.value))})},A=c=>{P(()=>{console.log("创建人:",c)})},I=j(()=>[{type:"quick",label:"快捷筛选",values:o.value.filter(e=>e.selected).map(e=>({id:e.id,value:e.name}))},{type:"intention",label:"意向度",values:O.value.filter(e=>d.value.includes(e.id))},{type:"followStatus",label:"跟进状态",values:E.value.filter(e=>g.value.includes(e.id))},{type:"sex",label:"性别",values:w.value.filter(e=>y.value.includes(e.id))},{type:"createPeo",label:"创建人",values:x.value.filter(e=>e.id===p.value)}].filter(e=>e.values.length>0)),S=()=>{[d,g,y].forEach(c=>c.value=[]),o.value.forEach(c=>c.selected=!1),p.value=null,V.value&&V.value.resetSearch()},$=(c,e)=>{switch(c){case"intention":d.value=[];break;case"followStatus":g.value=[];break;case"sex":y.value=[];break;case"quick":const r=o.value.find(a=>a.id===e);r&&(r.selected=!1);break;case"createPeo":p.value=null;break}};return(c,e)=>{const r=X,a=ne;return t(),i("div",ve,[u("div",pe,[e[4]||(e[4]=u("span",{class:"section-title"},"快捷筛选：",-1)),u("div",fe,[(t(!0),i(C,null,F(o.value,l=>(t(),_(r,{key:l.id,type:l.selected?"primary":"default",class:"filter-btn",onClick:U=>R(l)},{default:s(()=>[b(f(l.name)+"（"+f(l.count)+"） ",1)]),_:2},1032,["type","onClick"]))),128))])]),u("div",he,[e[5]||(e[5]=u("span",{class:"section-title"},"筛选条件：",-1)),u("div",ke,[n(D,{checkedValues:d.value,"onUpdate:checkedValues":e[0]||(e[0]=l=>d.value=l),options:O.value,label:"意向度",onChange:q,type:"checkbox"},null,8,["checkedValues","options"]),n(D,{checkedValues:g.value,"onUpdate:checkedValues":e[1]||(e[1]=l=>g.value=l),options:E.value,label:"跟进状态",onChange:k,type:"checkbox"},null,8,["checkedValues","options"]),n(D,{checkedValues:y.value,"onUpdate:checkedValues":e[2]||(e[2]=l=>y.value=l),options:w.value,label:"性别",onChange:h,type:"checkbox"},null,8,["checkedValues","options"]),n(D,{ref_key:"childRef",ref:V,checkedValues:p.value,"onUpdate:checkedValues":e[3]||(e[3]=l=>p.value=l),options:x.value,label:"创建人",onRadioChange:A,type:"radio"},null,8,["checkedValues","options"])])]),I.value.length>0?(t(),i("div",_e,[e[7]||(e[7]=u("span",{class:"section-title"},"已选条件：",-1)),u("div",me,[n(a,{color:"red",class:"clear-all",onClick:S},{default:s(()=>[e[6]||(e[6]=b(" 清空所有 ")),n(B(oe),{class:"text-3 ml-0.5"})]),_:1}),(t(!0),i(C,null,F(I.value,l=>(t(),_(a,{key:l.type,color:"blue",class:"condition-tag"},{default:s(()=>[u("div",ye,[u("span",ge,f(l.label)+"：",1),u("div",be,[l.type==="quick"?(t(),i("span",xe,[b(f(l.values[0].value)+" ",1),n(B(T),{class:"close-icon",onClick:L(U=>$(l.type,l.values[0].id),["stop"])},null,8,["onClick"])])):(t(!0),i(C,{key:1},F(l.values,(U,G)=>(t(),i("span",{key:U.id,class:"value-item"},[b(f(U.value)+" ",1),G===l.values.length-1?(t(),_(B(T),{key:0,class:"close-icon",onClick:L(we=>$(l.type,U.id),["stop"])},null,8,["onClick"])):(t(),i("span",Ce,"、"))]))),128))])])]),_:2},1024))),128))])])):z("",!0)])}}}),Be=Q(Ve,[["__scopeId","data-v-20063934"]]);export{Be as default};
